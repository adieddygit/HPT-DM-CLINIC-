{% extends "homebase.html" %}
{% block head %}
    <meta name="description" content="client profile page">
{% endblock head %}
{% block title %}<title>Profile</title>{% endblock title %}
{% block javascripts %}
<script src="{{ url_for('static', filename='tabs.js') }}"></script>
{% endblock javascripts %}
{% block content %}
<div class="container-fluid">
    <h1 class="mt-4">Client data collection profile</h1>
    <h3>Personal Information</h3>
    <div id="wrapper2">

        <div id="tabContainer">
            <div id="tabs">
                <ul>
                    <li id="tabHeader_1">Personal Profile</li>
                    <li id="tabHeader_2">Appointment</li>
                    <li id="tabHeader_3">Patient Health Metrics</li>
                    <li id="tabHeader_4">Treatment</li>
                </ul>
            </div>

            <div id="tabscontent">
                <nav class="tabpage" id="tabpage_1">
                    <form method='POST' action="/update_profile">
                        <p>The retrieved data is displayed here</p>

                        <div class="form-group">
                            <label for="client_id">Client ID</label>
                            <input type="text" class="form-control" id="client_id" name="client_id" value="{{ client.client_id }}" readonly>
                        </div>

                        <div class="form-group">
                            <label for="first_name">First Name</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" value="{{ client.first_name }}">
                        </div>

                        <div class="form-group">
                            <label for="middle_name">Middle Name</label>
                            <input type="text" class="form-control" id="middle_name" name="middle_name" value="{{ client.middle_name }}">
                        </div>

                        <div class="form-group">
                            <label for="last_name">Last Name</label>
                            <input type="text" class="form-control" id="last_name" name="last_name" value="{{ client.last_name }}">
                        </div>

                        <div class="form-group">
                            <label for="dob">Date of Birth</label>
                            <input type="datetime-local" class="form-control" id="dob" name="dob" value="{{ client.dob }}">
                        </div>

                        <div class="form-group">
                            <label for="country-of-birth">Country of Birth</label>
                            <input type="text" class="form-control" id="cob" name="cob" value="{{ client.cob }}">
                        </div>

                        <div class="form-group">
                            <label for="gender">Gender: </label><br />
                            <input type="radio" name="gender" value="female" {% if client.gender == 'female' %}checked{% endif %}> Female
                            <input type="radio" name="gender" value="male" {% if client.gender == 'male' %}checked{% endif %}> Male
                            <input type="radio" name="gender" value="intersex" {% if client.gender == 'intersex' %}checked{% endif %}> Intersex
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="marital-status">Marital Status:</label><br />
                            <input type="radio" name="marital-status" value="single" {% if client.marital_status == 'single' %}checked{% endif %}> Single
                            <input type="radio" name="marital-status" value="married" {% if client.marital_status == 'married' %}checked{% endif %}> Married
                            <input type="radio" name="marital-status" value="divorced" {% if client.marital_status == 'divorced' %}checked{% endif %}> Divorced
                            <input type="radio" name="marital-status" value="widowed" {% if client.marital_status == 'widowed' %}checked{% endif %}> Widowed
                            <input type="radio" name="marital-status" value="separated" {% if client.marital_status == 'separated' %}checked{% endif %}> Separated
                            <input type="radio" name="marital-status" value="cohabiting" {% if client.marital_status == 'cohabiting' %}checked{% endif %}> Cohabiting
                            <input type="radio" name="marital-status" value="other" {% if client.marital_status == 'other' %}checked{% endif %}> Other
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="occupation">Occupation: </label><br />
                            <input type="radio" name="occupation" value="employed" {% if client.occupation == 'employed' %}checked{% endif %}> Employed
                            <input type="radio" name="occupation" value="unemployed" {% if client.occupation == 'unemployed' %}checked{% endif %}> Unemployed
                            <input type="radio" name="occupation" value="student" {% if client.occupation == 'student' %}checked{% endif %}> Student
                            <input type="radio" name="occupation" value="retired" {% if client.occupation == 'retired' %}checked{% endif %}> Retired
                            <input type="radio" name="occupation" value="housewife" {% if client.occupation == 'housewife' %}checked{% endif %}> Housewife
                            <input type="radio" name="occupation" value="self-employed" {% if client.occupation == 'self-employed' %}checked{% endif %}> Self-employed
                            <input type="radio" name="occupation" value="other" {% if client.occupation == 'other' %}checked{% endif %}> Other
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input type="text" class="form-control" id="phone" name="phone" value="{{ client.phone }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" class="form-control" id="address" name="line1" value="{{ client.address }}">
                            <input type="text" class="form-control" name="city" value="{{ client.city }}">
                            <input type="text" class="form-control" name="state" value="{{ client.state }}">
                            <input type="text" class="form-control" name="zip-code" value="{{ client.zip_code }}">
                            <input type="text" class="form-control" name="country" value="{{ client.country }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" class="form-control" id="email" name="email" value="{{ client.email }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="ethnicity">Ethnicity</label>
                            <input type="text" class="form-control" id="ethnicity" name="ethnicity" value="{{ client.ethnicity }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="race">Race</label>
                            <input type="text" class="form-control" id="race" name="race" value="{{ client.race }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="emergency_contact_name">Emergency Contact</label>
                            <input type="text" class="form-control" id="emergency_contact_name" name="emergency_contact_name" value="{{ client.emergency_contact_name }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="emergency_contact_number">Contact Number</label>
                            <input type="text" class="form-control" id="emergency_contact_number" name="emergency_contact_number" value="{{ client.emergency_contact_number }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="emergency_contact_relation">Contact Relation</label>
                            <input type="text" class="form-control" id="emergency_contact_relation" name="emergency_contact_relation" value="{{ client.emergency_contact_relation }}">
                        </div>
                        <hr />

                        <div class="form-group">
                            <label for="emergency_contact_address">Contact Address</label>
                            <input type="text" class="form-control" id="emergency_contact_address" name="emergency_contact_address" value="{{ client.emergency_contact_address }}">
                        </div>
                        <hr />

                        <input type="submit" value="Update Profile" class="btn btn-success">
                    </form>
                </nav>

                <!-- <nav class="tabpage" id="tabpage_2">
                    <p>Appointment form goes here</p>
                    <div class="container-fluid">
                        <h1 class="mt-4">Book Appointment</h1>
                        <h3></h3>
                        <div class="msg">{{ msg }}</div>
                        {% if appointment %}
                        <form action="/update_appointment" method="POST" class="appointment-form">
                            <div class="form-group">
                                <label for="name">Username</label>
                                <input type="text" id="username" name="username" placeholder="Enter your username" required>
                            </div>
                    
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" placeholder="Enter your email" required>
                            </div>
                    
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
                            </div>
                    
                            <div class="form-group">
                                <label for="appointment_date">Preferred Date</label>
                                <input type="date" id="appointment_date" name="appointment_date" required>
                            </div>
                    
                            <div class="form-group">
                                <label for="appointment_time">Preferred Time</label>
                                <input type="time" id="appointment_time" name="appointment_time" required>
                            </div>
                    
                            <div class="form-group">
                                <label for="purpose">Purpose of Appointment</label>
                                <select id="purpose" name="purpose" required>
                                    <option value="">Select purpose</option>
                                    <option value="consultation">Consultation</option>
                                    <option value="checkup">Health Checkup</option>
                                    <option value="followup">Follow-up</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                    
                            <div class="form-group">
                                <label for="message">Additional Information</label>
                                <textarea id="message" name="message" rows="4" placeholder="Enter any additional information (optional)"></textarea>
                            </div>
                    
                            <button type="submit" class="appointment-btn">Submit</button>
                        </form>
                            {% else %}
                            <p>No appointment available.</p>
                        {% endif %}    
                </nav>
            
                <div id="tabscontent">
                    
                    <nav class="tabpage" id="tabpage_3">
                        <p></p>
                        <div class="container-fluid">
                            <h1 class="mt-4">Patient Health Metrics</h1>
                            <h3>Health Records</h3>
                            <div class="msg">{{ msg }}</div>
                            {% if patient_health_metrics %}
                            <form action="/update_metrics" method="post">
                                <div class="row">
                                    <div class="col-5">
                                        <label for="recorded_date">Date of Record</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="date" name="recorded_date" id="recorded_date" value="{{ patient_health_metrics.recorded_date }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="patient_id">Client ID</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="patient_id" id="patient_id" value="{{ patient_health_metrics.patient_id }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="health_care_facility">Health Care Facility</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="health_care_facility" id="health_care_facility" value="{{ patient_health_metrics.health_care_facility }}">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="provider_name">Provider Name</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="provider_name" id="provider_name" value="{{ patient_health_metrics.provider_name }}">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="provider_contact">Health Provider's Contact</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="provider_contact" id="provider_contact" value="{{ patient_health_metrics.provider_contact }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="vitals">Vital Signs</label>
                                    </div>
                                    <div class="col-7">
                                        Weight: <input type="text" name="weight" value="{{ patient_health_metrics.weight }}"><br/>
                                        Height: <input type="text" name="height" value="{{ patient_health_metrics.height }}"><br/>
                                        Blood Pressure: <input type="text" name="blood_pressure" value="{{ patient_health_metrics.blood_pressure }}"><br/>
                                        Blood Sugar: <input type="text" name="blood_sugar" value="{{ patient_health_metrics.blood_sugar }}"><br/>
                                        Temperature: <input type="text" name="temperature" value="{{ patient_health_metrics.temperature }}"><br/>
                                        Respiration: <input type="text" name="respiration" value="{{ patient_health_metrics.respiration }}"><br/>
                                        Pulse: <input type="text" name="pulse" value="{{ patient_health_metrics.pulse }}"><br/>
                                        Oxygen Saturation: <input type="text" name="spo2" value="{{ patient_health_metrics.spo2 }}"><br/>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="urine_ketones">Urine Ketones</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="radio" name="urine_ketones" value="Nill" {% if patient_health_metrics.urine_ketones == 'Nill' %}checked{% endif %}> Nill<br/>
                                        <input type="radio" name="urine_ketones" value="1+" {% if patient_health_metrics.urine_ketones == '1+' %}checked{% endif %}> 1+<br/>
                                        <input type="radio" name="urine_ketones" value="2+" {% if patient_health_metrics.urine_ketones == '2+' %}checked{% endif %}> 2+<br/>
                                        <input type="radio" name="urine_ketones" value="3+" {% if patient_health_metrics.urine_ketones == '3+' %}checked{% endif %}> 3+<br/>
                                        <input type="radio" name="urine_ketones" value="No test" {% if patient_health_metrics.urine_ketones == 'No test' %}checked{% endif %}> No test<br/>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="lab_investigation_result">Laboratory Investigation</label>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="lab_investigation_type[]" placeholder="Enter Investigation" required>
                                        <input type="text" name="lab_investigation_result[]" placeholder="Enter Result" required>
                                        <button type="button" id="add-more">Add Another</button>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="radiograph_investigation_type">Radiographic Investigation</label>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="radiograph_investigation_type[]" placeholder="Enter Investigation" required>
                                        <input type="text" name="radiograph_investigation_result[]" placeholder="Enter Result" required>
                                        <button type="button" id="add-more">Add Another</button>
                                    </div>
                                </div>
                                <hr/>
                                <div class="form-group">
                                    <label for="heart_conditions">Heart Conditions</label>
                                    <input type="text" class="form-control" id="heart_conditions" name="heart_conditions" value="{{ patient_health_metrics.heart_conditions }}">
                                </div>
                                <hr/>
                                <div class="form-group">
                                    <label for="diagnosis">Diagnosis</label>
                                    <input type="text" class="form-control" id="diagnosis" name="diagnosis" value="{{ patient_health_metrics.diagnosis }}">
                                </div>
                                <hr/>
                                <div class="form-group">
                                    <label for="hospitalized_for_hpt_dm">Has client been hospitalized for HPT/DM?</label>
                                    <input type="text" class="form-control" id="hospitalized_for_hpt_dm" name="hospitalized_for_hpt_dm" value="{{ patient_health_metrics.hospitalized_for_hpt_dm }}">
                                </div>
                                <hr/>
                                <div class="form-group">
                                    <label for="complications">Any Complications</label>
                                    <input type="text" class="form-control" id="complications" name="complications" value="{{ patient_health_metrics.complications }}">
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="notes">Add Note</label>
                                    </div>
                                    <div class="col-7">
                                        <div class="form-group">
                                            <label for="message">Additional Information</label>
                                            <textarea id="message" name="message" rows="4" placeholder="Enter any additional information (optional)">{{ patient_health_metrics.notes }}</textarea>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" value="Submit" class="btn btn-danger">
                            </form>
                            {% else %}
        <p>No health metrics available.</p>
    {% endif %}
                        </div>
                    </nav>
    
                   
                    <nav class="tabpage" id="tabpage_4">
                        <p></p>
                        <div class="container-fluid">
                            <h1 class="mt-4">Patient Treatment</h1>
                            <h3>Treatment Types</h3>
                            <div class="msg">{{ msg }}</div>
                            <form action="/update_treatment" method="post">
                                <div class="row">
                                    <div class="col-5">
                                        <label for="date_of_treatment">Date of Treatment</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="date" name="date_of_treatment" id="date_of_treatment" value="{{ patient_treatment.date_of_treatment }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="patient_id">Client ID</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="patient_id" id="patient_id" value="{{ patient_treatment.patient_id }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="health_care_facility">Health Care Facility</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="health_care_facility" id="health_care_facility" value="{{ patient_treatment.health_care_facility }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="provider_type">Health Care Provider</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="provider_type" id="provider_type" value="{{ patient_treatment.provider_type }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="provider_contact">Provider Contact</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="provider_contact" id="provider_contact" value="{{ patient_treatment.provider_contact }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="treatment_type">Treatment Type</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="treatment_type" id="treatment_type" value="{{ patient_treatment.treatment_type }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="treatment_plan">Treatment Plan</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="treatment_plan" id="treatment_plan" value="{{ patient_treatment.treatment_plan }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="defaulted_treatment">Has client defaulted treatment?</label>
                                    </div>
                                    <div class="col-7">
                                        <input type="text" name="defaulted_treatment" id="defaulted_treatment" value="{{ patient_treatment.defaulted_treatment }}">
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-5">
                                        <label for="treatment_notes">Add Note</label>
                                    </div>
                                    <div class="col-7">
                                        <div class="form-group">
                                            <label for="treatment_notes">Treatment Notes</label>
                                            <textarea id="treatment_notes" name="treatment_notes" rows="4" placeholder="Enter any additional information (optional)">{{ patient_treatment.treatment_notes }}</textarea>
                                        </div>
                                    </div>
                                </div>
                                <input type="submit" value="Submit" class="btn btn-danger">
                            </form>
                        </div>
                    </nav>
                </div>
            </div>
        </div> -->
    </div>
    {% endblock content %}
    
    {% block footer %}
        {{super()}}
    {% endblock footer %}